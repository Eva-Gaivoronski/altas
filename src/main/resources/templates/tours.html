<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create and Manage Tour</title>
    <link rel="stylesheet" type="text/css" href="/styles.css">
</head>
<body>

<h2>Create a New Tour</h2>

<form action="/tours/create" method="post" th:object="${tour}">
    <!-- Tour Information -->
    <label for="tourName">Tour Name:</label>
    <input type="text" id="tourName" name="tourName" th:field="*{name}" required>

    <label for="summaryDescription">Summary Description:</label>
    <textarea id="summaryDescription" name="summaryDescription" th:field="*{summaryDescription}" required></textarea>

    <!-- Other Tour Fields -->

    <!-- Author Information -->
    <label for="author">Author:</label>
    <input type="text" id="author" name="author" th:field="*{author.name}" readonly>

    <!-- Stops in the Tour -->
    <h3>Stops in the Tour</h3>

    <!-- Loop through stops in the tour -->
    <div th:each="stop, iterStat : *{stops}">
        <!-- Display stop information and form fields for editing -->

        <label th:text="${'Stop ' + iterStat.index + 1}"></label>
        <input type="text" th:id="${'stopName_' + iterStat.index}" th:name="${'stops[' + iterStat.index + '].name'}"
               th:value="${stop.name}" required>

        <!-- Other Stop Fields -->

        <a th:href="@{'/tours/delete-stop/' + ${iterStat.index}}">Delete Stop</a>
    </div>

    <!-- Button to Add a New Stop -->
    <a th:href="@{'/tours/add-stop'}">Add Stop</a>

    <!-- Submit Button -->
    <button type="submit">Save Tour</button>
</form>

<!-- Other Tour Management Features -->

</body>
</html>
